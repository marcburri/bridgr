<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to bridgr • bridgr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><link href="../deps/KaTex-0.16.10/katex.min.css" rel="stylesheet">
<script src="../deps/KaTex-0.16.10/katex.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to bridgr">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bridgr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/bridgr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/marcburri/bridgr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to bridgr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/marcburri/bridgr/blob/main/vignettes/bridgr.Rmd" class="external-link"><code>vignettes/bridgr.Rmd</code></a></small>
      <div class="d-none name"><code>bridgr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-are-bridge-models">What Are Bridge Models?<a class="anchor" aria-label="anchor" href="#what-are-bridge-models"></a>
</h2>
<p>Bridge models are statistical tools designed to address the mismatch
in frequency between economic indicators and a target variable, such as
GDP. For instance, GDP is typically reported quarterly, while many
relevant indicators (e.g., industrial production, survey data) are
available monthly or even daily. Bridge models “bridge” this gap by
converting high-frequency indicators into a form that aligns with the
target variable’s frequency.</p>
<p>These models are widely used in nowcasting and short-term
forecasting. They are particularly useful when:</p>
<ul>
<li>Data for the target variable is reported with a lag (e.g., GDP is
often released with a delay).</li>
<li>High-frequency indicators provide early signals about the state of
the economy.</li>
</ul>
<p>By leveraging real-time data, bridge models can improve forecast
accuracy and provide timely insights.</p>
</div>
<div class="section level2">
<h2 id="the-bridge-model-framework">The Bridge Model Framework<a class="anchor" aria-label="anchor" href="#the-bridge-model-framework"></a>
</h2>
<p>Bridge models exploit the relationship between a target variable,
such as quarterly GDP (<span class="math inline">y_t</span>), and
multiple high-frequency indicators (<span class="math inline">x_{t}^{(i)}</span>), which are observed monthly or
at even higher frequencies. The primary challenge is to harmonize these
different frequencies while preserving the information embedded in the
indicators.</p>
<div class="section level3">
<h3 id="aggregation-of-indicators">Aggregation of Indicators<a class="anchor" aria-label="anchor" href="#aggregation-of-indicators"></a>
</h3>
<p>To align high-frequency indicators (<span class="math inline">x_{t}^{(i)}</span>) with the target variable’s
frequency (<span class="math inline">y_t</span>), a transformation or
aggregation process is applied. Let <span class="math inline">K</span>
represent the number of higher-frequency periods within a single
lower-frequency period (e.g., <span class="math inline">K=3</span> for
monthly data aggregated to a quarter). The aggregation step can be
represented as:</p>
<p><span class="math display">
\bar{x}_{t}^{(i)} =  \sum_{k=0}^{K-1} \omega (k) L^{k/K} x_{t}^{(i)}
</span></p>
<p>where:</p>
<ul>
<li><p>The lag operator is defined as <span class="math inline">L^{1/3}
x_{t}^{(i)} = x_{t-1/3}^{(i)}</span></p></li>
<li><p><span class="math inline">x_{t}^{(i)}</span>: The value of the
indicator <span class="math inline">i</span> of period <span class="math inline">t</span>.</p></li>
<li><p><span class="math inline">\bar{x}_{t}^{(i)}</span>: The
aggregated indicator for period <span class="math inline">t</span>.</p></li>
<li><p><span class="math inline">\omega (k)</span>: The weight assigned
to the k-th period of the higher frequency data.</p></li>
</ul>
<p>In many applications, <span class="math inline">\omega (k)</span> is
simply an <strong>average</strong> over the values in the higher
frequency periods. Alternative aggregation techniques include taking the
<strong>last observation</strong> (e.g., the last month of the quarter)
or applying <strong>weighted averages</strong>.</p>
</div>
<div class="section level3">
<h3 id="the-model-specification">The Model Specification<a class="anchor" aria-label="anchor" href="#the-model-specification"></a>
</h3>
<p>Once the indicators are aligned with the target frequency, the bridge
model is typically specified as a linear regression:</p>
<p><span class="math display">
y_t = \beta_0 + \sum_{ i } \sum_{p_i=0}^{P^{(i)}} \beta_{p_i} L^p
\bar{x}_{t}^{(i)} + \varepsilon_t
</span></p>
<p>where:</p>
<ul>
<li><p><span class="math inline">P^{(i)}</span>: The lags to include for
indicator <span class="math inline">i</span>.</p></li>
<li><p><span class="math inline">\beta_{p_i}</span>: Coefficients
capturing the relationship between the indicators and the target
variable.</p></li>
<li><p><span class="math inline">\varepsilon_t</span>: The error
term.</p></li>
</ul>
<p>Bridge models also handle cases where some high-frequency indicators
are not fully observed at the time of forecasting. In such cases,
missing observations for the current period are imputed or forecast
using time series models (e.g., ARIMA, ETS). This allows predictions
even when recent observations are missing. This combination of
aggregation and forecasting ensures that bridge models are versatile
tools for dealing with incomplete data scenarios.</p>
</div>
</div>
<div class="section level2">
<h2 id="a-quick-example">A Quick Example<a class="anchor" aria-label="anchor" href="#a-quick-example"></a>
</h2>
<p>The <code>bridgr</code> package simplifies the construction and
estimation of bridge models. This vignette demonstrates how to use the
package with a quarterly GDP series (gdp) and a monthly economic
indicator (baro).</p>
<div class="section level3">
<h3 id="loading-the-data">Loading the Data<a class="anchor" aria-label="anchor" href="#loading-the-data"></a>
</h3>
<p>For this example, the two follwoing Swiss datasets are used:</p>
<ul>
<li>
<code>gdp</code>: Quarterly GDP data.</li>
<li>
<code>baro</code>: Monthly economic indicator data.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/marcburri/bridgr" class="external-link">bridgr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tsbox/" class="external-link">tsbox</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"gdp"</span><span class="op">)</span>  <span class="co"># Quarterly GDP data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"baro"</span><span class="op">)</span> <span class="co"># Monthly economic indicator</span></span>
<span></span>
<span><span class="va">gdp</span> <span class="op">&lt;-</span> <span class="fu">tsbox</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_pc.html" class="external-link">ts_pc</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="co"># Calculate growth rate</span></span>
<span><span class="co">#&gt; Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">#&gt;   object 'type_sum.accel' not found</span></span>
<span></span>
<span><span class="co"># Visualize the data</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ggplot.html" class="external-link">ts_ggplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_scale.html" class="external-link">ts_scale</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_c.html" class="external-link">ts_c</a></span><span class="op">(</span><span class="va">baro</span>, <span class="va">gdp</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Quarterly gdp and monthly economic indicator"</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="st">"Scaled to mean 0 and variance 1"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ggplot.html" class="external-link">theme_tsbox</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="bridgr_files/figure-html/setup-1.png" alt="Visualizing the data" width="700"></p>
<p>By visualizing the data,it becomes obvious that the monthly economic
indicator (baro) is available at a higher frequency than the quarterly
GDP data. Moreover, there is a significant correlation.</p>
</div>
<div class="section level3">
<h3 id="estimating-the-bridge-model">Estimating the Bridge Model<a class="anchor" aria-label="anchor" href="#estimating-the-bridge-model"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Estimate the bridge model</span></span>
<span><span class="va">bridge_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bridge.html">bridge</a></span><span class="op">(</span></span>
<span>  target <span class="op">=</span> <span class="va">gdp</span>, </span>
<span>  indic <span class="op">=</span> <span class="va">baro</span> , </span>
<span>  indic_lags <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  target_lags<span class="op">=</span><span class="fl">1</span>, </span>
<span>  h<span class="op">=</span><span class="fl">2</span> </span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; The start dates of the target and indicator variables do not match. Aligning them to 2004-04-01</span></span>
<span><span class="co">#&gt; Dependent variable: gdp | Frequency: quarter | Estimation sample: 2004-04-01 - 2022-10-01 | Forecast horizon: 2 quarter(s)</span></span></code></pre></div>
<p>Because by calculating the GDP growth rate, there is one observation
less at the beginning of the GDP series. The <code>bridge</code>function
detects mismatched starting dates and aligns them to the earliest common
date. The model is then estimated using the specified lags for the
target and indicator variables. The <code>h</code> argument specifies
the number of periods to forecast the lower frequency variable. The
<code>bridge</code> model returns both the dataset the main model was
estimated as well as the forecasted dataset for the indicator
variables.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect the datasets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">bridge_model</span><span class="op">$</span><span class="va">estimation_set</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   time        baro baro_lag1   gdp</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2021-07-01 112.      125.  2.34 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2021-10-01 104.      112.  0.411</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2022-01-01  97.4     104.  0.105</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2022-04-01  94.3      97.4 1.03 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2022-07-01  90.0      94.3 0.255</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2022-10-01  90.7      90.0 0.102</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">bridge_model</span><span class="op">$</span><span class="va">forecast_set</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">#&gt;   time        baro baro_lag1</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2023-01-01  97.4      90.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2023-04-01  99.8      97.4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="forecasting">Forecasting<a class="anchor" aria-label="anchor" href="#forecasting"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Forecasting using the bridge model</span></span>
<span><span class="va">fcst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/forecast.html" class="external-link">forecast</a></span><span class="op">(</span><span class="va">bridge_model</span><span class="op">)</span></span>
<span></span>
<span><span class="va">forecast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"time"</span> <span class="op">=</span> <span class="va">fcst</span><span class="op">$</span><span class="va">forecast_set</span><span class="op">$</span><span class="va">time</span>,</span>
<span>  <span class="st">"forecast"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">fcst</span><span class="op">$</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize the forecast</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ggplot.html" class="external-link">ts_ggplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_span.html" class="external-link">ts_span</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ts.html" class="external-link">ts_tbl</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_c.html" class="external-link">ts_c</a></span><span class="op">(</span><span class="va">gdp</span>, <span class="va">forecast</span><span class="op">)</span><span class="op">)</span>, start <span class="op">=</span> <span class="fl">2017</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Forecasted GDP"</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="st">"Bridge model forecast"</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ggplot.html" class="external-link">theme_tsbox</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="bridgr_files/figure-html/forecasting-1.png" alt="Forecasted GDP" width="700"></p>
</div>
<div class="section level3">
<h3 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summarize the information in the bridge model</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">bridge_model</span><span class="op">)</span></span>
<span><span class="co">#&gt; Bridge model summary</span></span>
<span><span class="co">#&gt; -----------------------------------</span></span>
<span><span class="co">#&gt; Main model:</span></span>
<span><span class="co">#&gt; -----------------------------------</span></span>
<span><span class="co">#&gt; Series:  gdp </span></span>
<span><span class="co">#&gt; Regression with ARIMA(1,0,0) errors </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;          ar1  intercept    baro  baro_lag1</span></span>
<span><span class="co">#&gt;       0.2426    -6.4929  0.1615    -0.0917</span></span>
<span><span class="co">#&gt; s.e.  0.1213     1.3430  0.0125     0.0121</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; sigma^2 = 0.5625:  log likelihood = -81.69</span></span>
<span><span class="co">#&gt; AIC=173.38   AICc=174.26   BIC=184.9</span></span>
<span><span class="co">#&gt; -----------------------------------</span></span>
<span><span class="co">#&gt; Single indicator models:</span></span>
<span><span class="co">#&gt; -----------------------------------</span></span>
<span><span class="co">#&gt; Series:  baro </span></span>
<span><span class="co">#&gt; ARIMA(1,0,2) with non-zero mean </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;          ar1     ma1     ma2      mean</span></span>
<span><span class="co">#&gt;       0.6688  0.5305  0.3316  100.8580</span></span>
<span><span class="co">#&gt; s.e.  0.0653  0.0799  0.0753    1.5774</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; sigma^2 = 18.46:  log likelihood = -646.14</span></span>
<span><span class="co">#&gt; AIC=1302.28   AICc=1302.55   BIC=1319.36</span></span>
<span><span class="co">#&gt; Aggregation to low frequency:</span></span>
<span><span class="co">#&gt; Using mean over values in corresponding periods.</span></span>
<span><span class="co">#&gt; -----------------------------------</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://marcburri.github.io" class="external-link">Marc Burri</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
